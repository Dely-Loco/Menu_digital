generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Categoria {
  id         Int      @id @default(autoincrement())
  nombre     String
  slug       String   @unique
  descripcion String?
  imagen     String?
  esPopular  Boolean?  @default(false)
  creadoEn   DateTime @default(now())
  platos     Plato[]
  @@map("categorias")
}

model Plato {
  id               Int       @id @default(autoincrement())
  nombre           String
  slug             String   @unique
  descripcion      String
  descripcionCorta String?
  precio           Decimal  @db.Decimal(10, 2)
  precioAnterior   Decimal? @db.Decimal(10, 2)
  disponible       Boolean   @default(true)
  destacado        Boolean   @default(false)
  etiquetas        String[]
  creadoEn         DateTime  @default(now())
  categoriaId Int?
  categoria   Categoria? @relation(fields: [categoriaId], references: [id])
  imagenes    Imagen[]
  @@map("platos")
}

model Imagen {
  id       Int     @id @default(autoincrement())
  url      String
  alt      String?
  orden    Int     @default(0)
  platoId  Int?
  plato    Plato?  @relation(fields: [platoId], references: [id])
  @@map("imagenes")
}